<div class="app-layout">
  <app-header></app-header>
  <div class="main-section">
    <p-confirmDialog />
    <div class="card flex justify-content-center mb-3">
      <div class="w-4 flex justify-content-start">
        <p-button
          label="Vista profesor"
          (onClick)="router.navigate(['cuadrante'])"
          severity="info"
        />
      </div>
      <div class="w-4 flex justify-content-center">
        <p-selectButton
          [options]="dias"
          [(ngModel)]="dia"
          optionLabel="name"
          optionValue="value"
          allowEmpty="false"
          styleClass="w-max"
        />
      </div>
      <div class="w-4"></div>
    </div>
    <p-accordion [multiple]="true" id="accordion" [activeIndex]="activeIndex">
      <p-accordionTab
        *ngFor="let intervalo of intervalos"
        [header]="getNombreHora(intervalo.id)"
      >
        <p-table
          [value]="getCuadrantes(intervalo.id)"
          styleClass="p-datatable-gridlines"
          [id]="'hora-' + intervalo.id"
          [loading]="!cuadrantesLoaded"
        >
          <ng-template pTemplate="header">
            <tr>
              <th class="text-center w-3">Rol</th>
              <th class="text-center w-3">Profesor</th>
              <th class="text-center w-6">Faltas</th>
            </tr>
          </ng-template>
          <ng-template pTemplate="body" let-cuadrante>
            <tr>
              <td class="text-center w-3">{{ cuadrante.cargo.nombre }}</td>
              <td class="text-center w-3">
                {{ cuadrante.guardia.profesor.nombre }}
              </td>
              <td class="w-6"></td>
            </tr>
          </ng-template>
        </p-table>
      </p-accordionTab>
    </p-accordion>
  </div>
</div>
